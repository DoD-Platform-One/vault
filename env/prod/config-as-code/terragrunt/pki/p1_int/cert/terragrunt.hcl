# Terragrunt will copy the Terraform configurations specified by the source parameter, along with any files in the
# working directory, into a temporary folder, and execute your Terraform commands in that folder.
terraform {
  # Gabe development
  #source = "/Users/gabe/Workspace/terraform-modules/vault/intermediate_ca_cert"
  # Cam development
  source = "/Users/cameron.banowsky/infrastructure/dev/repo1/cnap/terraform-modules/vault/pki_secret_backend_intermediate_set_signed"
}

# Include all settings from the root terragrunt.hcl file
include {
  path = find_in_parent_folders()
}

dependency mount {
  config_path = "../mount"
  mock_outputs = {
    path = "abc-123"
  }
}

# These are the variables we have to pass in to use the module specified in the terragrunt configuration above
inputs = {
  mount_path        = dependency.mount.outputs.path
  signed_cert_and_ca_chain  = <<-EOT
-----BEGIN CERTIFICATE-----
MIIGLjCCBBagAwIBAgICEAAwDQYJKoZIhvcNAQENBQAwgaUxCzAJBgNVBAYTAlVT
MREwDwYDVQQIDAhDb2xvcmFkbzEZMBcGA1UEBwwQQ29sb3JhZG8gU3ByaW5nczEZ
MBcGA1UECgwQRG9EIFBsYXRmb3JtIE9uZTENMAsGA1UECwwEQ05BUDEbMBkGA1UE
AwwSYXBhY2hlamVmZi5kc28ubWlsMSEwHwYJKoZIhvcNAQkBFhJwYWNrZXRqZWRp
QGRzby5taWwwHhcNMjEwMjA1MTg0MjI4WhcNMzEwMjAzMTg0MjI4WjBdMQswCQYD
VQQGEwJVUzEYMBYGA1UEChMPVS5TLiBHb3Zlcm5tZW50MRMwEQYDVQQLEwpEb0Qg
UDEgUEtJMR8wHQYDVQQDExZEb0QgUDEgSW50ZXJtZWRpYXRlIENBMIICIjANBgkq
hkiG9w0BAQEFAAOCAg8AMIICCgKCAgEArEG/nhyGt9VnQbj/k3DPel5NuWkIxt72
REXoBpyy4ZNbtgKmL1OxStcKh+MfkuKBQHx4C2bJn3etc5zVsuekWI11VeftgUg4
XSji6HEtdSbuAmJIHPkqfYsAX3ycVUdsjrXCNDcQTDRHltksuJ/LYzxSyK68hv5I
y704S3zwM61Rp5hY66vkv7pE9IKBOXuiOqdpbf4kgGPvfZpQbEkmT1l0qXyQnxv8
9uPT8kcQfJm7qM9uiw6Sq/4ZRHo+/6xF6W/0RnEFOuVdu9YFJnGza6GYA0wu8v3z
1AO9dXFhmcskuB+7l+VmEK2NwYYkYaTUakuTXPhAzjVHZboOB3vf+RVYC9NgfX7Z
7b0ZNzUyRZ6z+efZdAab2Hoc+hpMGJpATXOw8ni2D5jo9/EmgTB+zXHo4fXdHM1l
nleeScCu5dIdztLYFzYXB0+MVwIYZ8zbbuADvo/a1JxIOFrCr8Qq/oeUyyuVnpRd
pi894YOG+6jHyCD6wv6BOsdxJ2xQeqgQ5/DXDWvV+RlqT7yvLZUd9l0WuHHxQVFF
8wt99Gsj0aJpW8Q346QphDmqygn2y1Bcf0aSbQZXKnJ6ymCDb2P5tlHgFqKU9/Wi
06Vu4LXGB1uzUyYIgOVPhBLepZPkIv/2dnRD6wVkNNynThNZg6c2zEAitSvln+jK
fHhyZaRhuxMCAwEAAaOBrjCBqzAdBgNVHQ4EFgQUKB/e6encj+1Z6o6n9XxC1jwk
Sv8wHwYDVR0jBBgwFoAU5o9IHa50FsJbMzbxBgQi8GNAjXcwEgYDVR0TAQH/BAgw
BgEB/wIBAjAOBgNVHQ8BAf8EBAMCAYYwRQYDVR0fBD4wPDA6oDigNoY0aHR0cHM6
Ly9jdWJieWhvbGUuY25hcC5kc28ubWlsOjQ0My92MS9wa2kvY29uZmlnL2NybDAN
BgkqhkiG9w0BAQ0FAAOCAgEAkNz+FRdLdLk69NM39du8eY8E8hpcFp7WxymJ3Dwx
xAtV45wXAM3GjmdTETe0+tjH9+Xe8UtvmeOJGToSwbyzUd81AiybrWy6b+ympBob
XzDuvWOdT3WTu7dYMNMTag7tofYhVyFH5aVYHCAlZ33SYU/68dm0bkkmqZyagoVP
fJjrVPi40DhZP5efuKzASXZ1JnCjgJwDmmaMLPKv1zvHtf+PV4RQzPZl9j4HiXTc
22WAqoZR7eGp5XcxXx271DH+xgjjMVCn3bQRA80azBqMSwihMudB9NeZVSXD74Ee
FkzXz5XuRMjDZOvL7g/2a+MtiVJyxzrxnTgqCxP1V6ev43cqNbrCCP9nkN0Sn/pd
E65ABZzTC1EKwAkt0vWX4iEPP1wqiahVDlKKjYWps8prHB5bUhnvFEzlJNPxe1eH
IQWsZaigYeqW8ERvpgiY9dli87N4Gz/8Q7WGuysjPZ6sbdjS9Se+sfpaZ8DVTg2O
SfvIlDMGIHhSg1brqLSMY+Wblo9W0GDoCKrNCxjZse1+y1hWiDMbxaXh/nWrzfMI
QEUswaVpoY+rqe3swa/ryb8+Lx+PIDeoTRqlkScun2Djkx3w69X4w36aXSmkYxsO
9pcWNY3A8PtFca9Jjg3nt5JkKg8rCkfwonMFa3UGHOYli9SySsScAhjAShOjp+BF
pHc=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
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
Pa1HeW9j
-----END CERTIFICATE-----
EOT
}
